erDiagram
    User ||--o{ Event : creates
    User ||--o{ Venue : owns
    User ||--o{ Service : provides
    User ||--o{ Review : writes
    User ||--|| Cart : has
    User ||--o{ SiteVisit : books
    
    Event ||--o{ Booking : contains
    Event ||--|| EventWebsite : has
    Event ||--o{ TodoItem : has
    Event ||--o{ Invitation : sends
    Event ||--o{ Budget : tracks
    
    Venue ||--o{ VenuePhoto : has
    Venue ||--o{ Availability : has
    Venue ||--o{ SiteVisit : allows
    Venue ||--o{ Review : receives
    
    Service ||--o{ ServicePhoto : has
    Service ||--o{ Availability : has
    Service ||--o{ Review : receives
    
    Package ||--o{ Service : includes
    
    Booking ||--|| Payment : requires
    Booking ||--o{ Review : generates
    
    Cart ||--o{ CartItem : contains

    
    Payment ||--|| Transaction : creates
    
    User {
        int user_id PK
        string user_type
        string first_name
        string last_name
        string email
        string phone
        string password
        datetime created_at
        boolean is_active
        string profile_image
    }
    
    Event {
        int event_id PK
        int customer_id FK
        string event_name
        string event_type
        date event_date
        int guest_count
        decimal estimated_budget
        decimal actual_budget
        string status
        datetime created_at
    }
    
    Venue {
        int venue_id PK
        int vendor_id FK
        string venue_name
        string location
        int max_capacity
        json pricing_rates
        string description
        boolean sustainability_practices
        string amenities
        datetime created_at
    }
    
    Service {
        int service_id PK
        int vendor_id FK
        string service_name
        string category
        json pricing_rates
        string description
        boolean sustainability_practices
        datetime created_at
    }
    
    Package {
        int package_id PK
        int vendor_id FK
        string package_name
        decimal total_price
        decimal discount_percentage
        string description
        datetime created_at
    }
    
    Booking {
        int booking_id PK
        int event_id FK
        string bookable_type
        int bookable_id
        date booking_date
        decimal amount
        string status
        datetime created_at
        datetime confirmed_at
    }
    
    Payment {
        int payment_id PK
        int booking_id FK
        decimal amount
        string payment_method
        string status
        datetime payment_date
        string transaction_reference
    }
    
    Review {
        int review_id PK
        int user_id FK
        int venue_id FK
        int service_id FK
        int rating
        string comment
        datetime created_at
        boolean is_approved
    }
    
    Availability {
        int availability_id PK
        int venue_id FK
        int service_id FK
        date available_date
        time start_time
        time end_time
        boolean is_available
    }
    
    Cart {
        int cart_id PK
        int customer_id FK
        decimal total_amount
        datetime updated_at
    }
    
    CartItem {
        int cart_item_id PK
        int cart_id FK
        string cartable_type
        int cartable_id
        int event_id FK
        decimal price
        datetime added_at
    }
    
    EventWebsite {
        int website_id PK
        int event_id FK
        string website_url
        string template_theme
        boolean rsvp_enabled
        int rsvp_count
        datetime created_at
    }
    
    Invitation {
        int invitation_id PK
        int event_id FK
        string guest_email
        string guest_phone
        string status
        datetime sent_at
        datetime responded_at
    }
    
    TodoItem {
        int todo_id PK
        int event_id FK
        string task_description
        date due_date
        boolean is_completed
        string priority
        datetime created_at
    }
    
    SiteVisit {
        int site_visit_id PK
        int customer_id FK
        int venue_id FK
        date visit_date
        time visit_time
        string status
        datetime booked_at
    }
    
    Transaction {
        int transaction_id PK
        int payment_id FK
        string gateway_reference
        decimal gateway_fee
        string gateway_status
        datetime processed_at
    }
    
    VenuePhoto {
        int photo_id PK
        int venue_id FK
        string photo_url
        string caption
        boolean is_primary
        datetime uploaded_at
    }
    
    ServicePhoto {
        int photo_id PK
        int service_id FK
        string photo_url
        string caption
        datetime uploaded_at
    }
    
    Budget {
        int budget_id PK
        int event_id FK
        string category
        decimal estimated_amount
        decimal actual_amount
        datetime updated_at
    } 